<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Blog | eLearning</title>
    <link rel="stylesheet" href="blog.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
    <h2>ELearning</h2>
    <div class="profile">
        <span>Teacher</span>
        <button onclick="logout()">Logout</button>
    </div>
</header>

<!-- DASHBOARD LAYOUT -->
<div class="dashboard">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <ul>
            <li><a href="./teacherdb.html">Dashboard</a></li>
            <li><a href="./teacher_upload.html">Upload Notes</a></li>
            <li><a href="./quiz.html">Set MCQs</a></li>
            <li ><a href="./blog.html">Blogs</a></li>
            <li><a href="./section.html">Q/A Session</a></li>
            <li><a href="./live.html">Live Classes</a></li>
            <li><a href="./perinfo.html">Personal Info</a></li>
        </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">
        <h3>Teacher Blog</h3>

        <!-- Teacher Write Blog -->
        <div class="card">
            <h2>Write Your Blog</h2>
            <input type="text" id="teacherTitle" placeholder="Blog Title">
            <textarea id="teacherBlog" placeholder="Write your blog..."></textarea>
            <button onclick="postTeacherBlog()">Post Blog</button>
            <div id="teacherBlogs"></div>
        </div>

        <!-- Student Blogs Section -->
        <div class="card">
            <h2>Student Blogs</h2>

            <div class="blog">
                <h3>Importance of Programming</h3>
                <p class="author">By: Ankita</p>
                <p>Programming helps students develop logical thinking...</p>

                <div class="rating">
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                </div>
            </div>

            <div class="blog">
                <h3>Cyber Security Awareness</h3>
                <p class="author">By: Thag</p>
                <p>Cyber security is important to protect data...</p>

                <div class="rating">
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                    <i class="fa-regular fa-star" onclick="rate(this)"></i>
                </div>
            </div>

        </div>
    </main>

</div>

<script>
    function logout() {
        alert("You have been logged out!");
        window.location.href = '../user/index.html';
    }

    function postTeacherBlog() {
        let title = document.getElementById("teacherTitle").value;
        let blog = document.getElementById("teacherBlog").value;

        if (title === "" || blog === "") {
            alert("Please fill all fields");
            return;
        }

        let div = document.createElement("div");
        div.className = "blog";
        div.innerHTML = `
            <h3>${title}</h3>
            <p class="author">By: Teacher</p>
            <p>${blog}</p>
            <div class="rating">
                <i class="fa-regular fa-star" onclick="rate(this)"></i>
                <i class="fa-regular fa-star" onclick="rate(this)"></i>
                <i class="fa-regular fa-star" onclick="rate(this)"></i>
                <i class="fa-regular fa-star" onclick="rate(this)"></i>
                <i class="fa-regular fa-star" onclick="rate(this)"></i>
            </div>
        `;

        document.getElementById("teacherBlogs").appendChild(div);
        document.getElementById("teacherTitle").value = "";
        document.getElementById("teacherBlog").value = "";
    }

    function rate(star) {
        let stars = star.parentElement.children;
        let index = Array.from(stars).indexOf(star);

        for (let i = 0; i < stars.length; i++) {
            stars[i].classList.remove("active");
            stars[i].classList.remove("fa-solid");
            stars[i].classList.add("fa-regular");
        }

        for (let i = 0; i <= index; i++) {
            stars[i].classList.add("active");
            stars[i].classList.remove("fa-regular");
            stars[i].classList.add("fa-solid");
        }
    }
</script>

</body>
</html>
